### 3.5.26 禁止开启kexec功能

**级别：** 要求

**适用版本：** 全部

**规则说明：**

kexec允许替换当前正在运行的内核，可能被攻击者利用加载恶意内核。若使用场景无内核升级需求，建议关闭kexec功能。

**规则影响：**

无法使用kexec升级内核。

**检查方法：**

检查/proc/sys/kernel/kexec_load_disabled文件的值，0表示启用kexec，1表示关闭kexec：

```bash
# cat /proc/sys/kernel/kexec_load_disabled
kernel.kexec_load_disabled=1
```

**修复方法：**

- 可以通过修改/proc/sys/kernel/kexec_load_disabled的值来临时关闭kexec：

  ```bash
  # echo 1 > /proc/sys/kernel/kexec_load_disabled
  ```

- 或者通过修改/etc/sysctl.conf文件使其永久生效：

  ```bash
  kernel.kexec_load_disabled=1
  ```

  然后启用该配置：

  ```bash
  # sysctl -p /etc/sysctl.conf
  ```